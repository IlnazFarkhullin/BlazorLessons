@page "/"
@using TestBlazor.Model

@*<PageTitle>Index</PageTitle>*@

@*<h1>Hello, world!</h1>

Welcome to your new app.

<SurveyPrompt Title="How is Blazor working for you?" />*@

<div class="row">
    <div class="col text-center">
        <h1>Добро пожаловать в игру</h1>
    </div> 
</div>


<div class="row">
    <div class="col text-center">
        <h2>Игры:</h2>
    </div>
</div>

<div class="table-responsive">
    <table class="table table-striped">
        <thead class="thead-light">
            <tr>
                <th>Name</th>
                <th>Genre</th>
                <th>Realease Date</th>
            </tr>
        </thead>
        <tbody>
            @if (games == null)
            {
                <tr >
                    <content class="align-content-center">
                        <img class="align-content-center" src="https://media1.giphy.com/media/10FwycrnAkpshW/giphy.gif" alt="я гифка">
                    </content>
                </tr>
            }
            else if(games.Count == 0)
            {
                 <tr>Нету элементов</tr>   
            }
            else
            {
                    @foreach (var item in games.OrderBy(x=> x.RealeaseDate))
                    {
                        <tr>
                            <td>@item.Name</td>
                            <td>@item.Genre</td>
                            <td>@item.RealeaseDate.ToString("dd.MM.yyyy")</td>
                        </tr>
                    }     
            }
        </tbody>
    </table>
</div>

@code{
    private List<Game> games { get; set; }
    protected async override Task OnInitializedAsync()
    {
        await Task.Delay(3000);
        games = new List<Game>()
        {
            new Game()
            {
                Name = "Пиво пей",
                Genre = "Симулятор",
                RealeaseDate = new DateTime(2023, 02, 05),
            },

            new Game()
            {
                Name = "Семейная ферма",
                Genre = "Ферма",
                RealeaseDate = new DateTime(2018, 05, 05),
            },
            new Game()
            {
                Name = "Вояж",
                Genre = "Симулятор",
                RealeaseDate = new DateTime(2003, 10, 25),
            },
        };

    }
}